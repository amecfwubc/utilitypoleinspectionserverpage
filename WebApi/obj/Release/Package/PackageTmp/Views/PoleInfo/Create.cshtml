@model WebApi.Models.PoleInfo

@{
    ViewBag.Title = "Create";
}
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

<h2>Create</h2>
<script>
    
    $(document).ready(function () {
        alert("Test")
    })

    function SaveClick()  {
        alert("Start")
        var model = model.parseJSON();
        alert("model Parse")
        //$.ajax({
        //    type: "POST",
        //    dataType: "json",
        //    url: "/api/PostPoleInfo",
        //    data: model,
        //    success: function (data) {
        //        alert(data);
        //    },
        //    error: function (error) {
        //        jsonValue = jQuery.parseJSON(error.responseText);
        //        //jError('An error has occurred while saving the new part source: ' + jsonValue, { TimeShown: 3000 });
        //    }
        //});
   };

    </script>


@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal">
        <h4>PoleInfo</h4>
        <hr />
        @Html.ValidationSummary(true)

        <div class="form-group">
            @Html.LabelFor(model => model.PoleID, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.PoleID)
                @Html.ValidationMessageFor(model => model.PoleID)
            </div>
        </div>

        @*<div class="form-group">
            @Html.LabelFor(model => model.TypeID, "TypeID", new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("TypeID", String.Empty)
                @Html.ValidationMessageFor(model => model.TypeID)
            </div>
        </div>*@

        <div class="form-group">
            @Html.LabelFor(model => model.TaskAddeddate, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.TaskAddeddate)
                @Html.ValidationMessageFor(model => model.TaskAddeddate)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.TaskPerformeddate, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.TaskPerformeddate)
                @Html.ValidationMessageFor(model => model.TaskPerformeddate)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.ImageMapPath, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.ImageMapPath)
                @Html.ValidationMessageFor(model => model.ImageMapPath)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.AdjacentPoleHeight, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.AdjacentPoleHeight)
                @Html.ValidationMessageFor(model => model.AdjacentPoleHeight)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.TransFormerLoading, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.TransFormerLoading)
                @Html.ValidationMessageFor(model => model.TransFormerLoading)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Notes, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Notes)
                @Html.ValidationMessageFor(model => model.Notes)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.ImagesTakenpath, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.ImagesTakenpath)
                @Html.ValidationMessageFor(model => model.ImagesTakenpath)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.UserID, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.UserID)
                @Html.ValidationMessageFor(model => model.UserID)
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default" />
                <input type="button" value="Save" class="btn btn-default" onclick="SaveClick()" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>


